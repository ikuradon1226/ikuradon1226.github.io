<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <title>極Lv計算</title>
  </head>
  <body>
    <label for="kind">刀種を選択してください。</label><br>
    <select id="kind">
      <option value="tantou">短刀</option>
      <option value="wakizashi">脇差</option>
      <option value="uchigatana2">打刀(レア2)</option>
      <option value="uchigatana3">打刀(レア3)</option>
      <option value="tachi">太刀</option>
      <option value="odachi">大太刀</option>
      <option value="yari">槍</option>
      <option value="naginata">薙刀</option>
    </select><br>
    
    経験値を入力してください。<br>
    <input type="number" id="exp" value="経験値を入力"><br>


    
    <button onclick="calclevel()">計算する</button>
    <div id="result"></div>
    <div id="result2"></div>


    <script>
      function calclevel(){
	  var kind=document.getElementById("kind").value;
	  var exp=parseInt(document.getElementById("exp").value);

	  if(kind=="tantou"){
	      exp = exp - 445300;
	      document.getElementById("result").innerText = "極Lv."+linearsearch(exp,tantouArray);
	      document.getElementById("result2").innerText = "極累積経験値:"+exp;
	  }
	  else if(kind=="wakizashi"){
	      exp = exp - 540800;
	      document.getElementById("result").innerText = "極Lv."+linearsearch(exp,wakizashiArray);
	      document.getElementById("result2").innerText = "極累積経験値:"+exp;
	  }
	  else if(kind=="uchigatana2"){
	      exp = exp - 648800;
	      document.getElementById("result").innerText = "極Lv."+linearsearch(exp,uchigatana2Array);
	      document.getElementById("result2").innerText = "極累積経験値:"+exp;
	  }
	  else if(kind=="uchigatana3"){
	      exp = exp - 648800;
	      document.getElementById("result").innerText = "極Lv."+linearsearch(exp,uchigatana3Array);
	      document.getElementById("result2").innerText = "極累積経験値:"+exp;
	  }
	  else if(kind=="tachi"){
	      exp = exp - 770800;
	      document.getElementById("result").innerText = "極Lv."+linearsearch(exp,tachiArray);
	      document.getElementById("result2").innerText = "極累積経験値:"+exp;
	  }
	  else if(kind=="odachi"){
	      exp = exp - 907800;
	      document.getElementById("result").innerText = "極Lv."+linearsearch(exp,odachiArray);
	      document.getElementById("result2").innerText = "極累積経験値:"+exp;
	  }
	  else if(kind=="yari"){
	      exp = exp - 540800;
	      document.getElementById("result").innerText = "極Lv."+linearsearch(exp,yariArray);
	      document.getElementById("result2").innerText = "極累積経験値:"+exp;
	  }
	  else if(kind=="naginata"){
	      exp = exp - 540800;
	      document.getElementById("result").innerText = "極Lv."+linearsearch(exp,naginataArray);
	      document.getElementById("result2").innerText = "極累積経験値:"+exp;
	  }

	  
      }

      function linearsearch(exp,array){
	  let key=0;
	  while(array[key]<=exp){
	      key++;
	  }
	  return key;
      }
	  

      const tantouArray = new Array(
	  0, 588, 1305, 2194, 3296, 4653, 6307, 8300, 10673, 13468,
	  16727, 20491, 24802, 29702, 35233, 41436, 48354, 56027, 64498, 73808, 84000, 95114, 107193, 120278, 134411, 149634, 165989, 183517, 202260, 222260, 307195, 454335, 660950, 924310, 1241685, 1610345, 2027560, 2490600, 2996735, 3543235, 4127370, 4746410, 5397625, 6078285, 6785660, 7517020, 8269635, 9040775, 9827710, 10627710, 11429400, 12233306, 13039953, 13849865, 14663567, 15481584, 16304441, 17132662, 17966772, 18807296,
	  19654759, 20509686, 21372601, 22244029, 23124495, 24014524, 24914640, 25825368, 26747233, 27680760,
	  28626474, 29584899, 30556560, 31541982, 32541690, 33556208, 34586062, 35631776, 36693875, 37772883,
	  38869326, 39983728, 41116614, 42268509, 43439937, 44631423, 45843492, 47076669, 48331479, 49608446,
	  50908096, 52230953, 53577541, 54948386, 56344012, 57764944, 59211707, 60684826, 62184826
      );

      const wakizashiArray = new Array(
  0, 588, 1305, 2194, 3296, 4653, 6307, 8300, 10673, 13468,
  16727, 20491, 24802, 29702, 35233, 41436, 48354, 56027, 64498, 73808,
  84000, 95114, 107193, 120278, 134411, 149634, 165989, 183517, 202260, 222260,
  307195, 454335, 660950, 924310, 1241685, 1610345, 2027560, 2490600, 2996735, 3543235,
  4127370, 4746410, 5397625, 6078285, 6785660, 7517020, 8269635, 9040775, 9827710, 10627710,
  11429400, 12233306, 13039953, 13849865, 14663567, 15481584, 16304441, 17132662, 17966772, 18807296,
  19654759, 20509686, 21372601, 22244029, 23124495, 24014524, 24914640, 25825368, 26747233, 27680760,
  28626474, 29584899, 30556560, 31541982, 32541690, 33556208, 34586062, 35631776, 36693875, 37772883,
  38869326, 39983728, 41116614, 42268509, 43439937, 44631423, 45843492, 47076669, 48331479, 49608446,
  50908096, 52230953, 53577541, 54948386, 56344012, 57764944, 59211707, 60684826, 62184826,
  12572340, 13546636, 14433948, 15334851, 16229923, 17029742, 17934885, 18845928, 19763449, 20688025,
  21620235, 22560654, 23509861, 24468432, 25436944, 26415976, 27406104, 28407904, 29421956, 30448836,
  31489121, 32543389, 33612216, 34696180, 35795859, 36911829, 38044668, 39194953, 40363262, 41550171,
  42756258, 43982101, 45228275, 46495360, 47783930, 49094565, 50427841, 51784336, 53164627, 54569290,
  55998905, 57454048, 58935295, 60443224, 61978413, 63541438, 65132878, 66753308, 68403309
      );


      const uchigatana2Array = new Array(0, 588, 1305, 2194, 3296, 4653, 6307, 8300, 10673, 13468, 16727, 20491, 24802, 29702, 35233, 41436, 48354, 56027, 64498, 73808, 84000, 95114, 107193, 120278, 134411, 149634, 165989, 183517, 202260, 222260, 307195, 454335, 660950, 924310, 1241685, 1932413, 2433071, 2988719, 3596081, 4251881, 4952843, 5695691, 6477149, 7293941, 8142791, 9020423, 9923561, 10848929, 11793251, 12753251, 13715279, 14679967, 15647943, 16619837, 17596280, 18577900, 19565329, 20559194, 21560126, 22568755, 23585710, 24611623, 25647121, 26692834, 27749393, 28817428, 29897567, 30990441, 32096679, 33216911, 34351768, 35501878, 36667871, 37850378, 39050027, 40267449, 41503274, 42758131, 44032649, 45327459, 46643191, 47980473, 49339936, 50722210, 52127924, 53557707, 55012190, 56492002, 57997774, 59530135, 61089715, 62677143, 64293049, 65938063, 67612814, 69317932, 71054048, 72821791, 74621791);

      const uchigatana3Array = new Array(0, 588, 1305, 2194, 3296, 4653, 6307, 8300, 10673, 13468, 16727, 20491, 24802, 29702, 35233, 41436, 48354, 56027, 64498, 73808, 84000, 95114, 107193, 120278, 134411, 149634, 165989, 183517, 202260, 222260, 307195, 454335, 660950, 924310, 1241685, 2093448, 2635828, 3237780, 3895755, 4606205, 5365581, 6170333, 7016912, 7901770, 8821358, 9772126, 10750525, 11753007, 12776023, 13816023, 14858220, 15903297, 16951938, 18004824, 19062637, 20126059, 21195773, 22272460, 23356803, 24449484, 25551186, 26662591, 27784381, 28917237, 30061843, 31218881, 32389032, 33572978, 34771402, 35984988, 37214416, 38460368, 39723528, 41004576, 42304197, 43623070, 44961880, 46321308, 47702037, 49104748, 50530123, 51978846, 53451598, 54949061, 56471918, 58020850, 59596539, 61199669, 62830922, 64490979, 66180524, 67800239, 69450803, 71132901, 72847215, 75094427, 76975219, 78890273, 80840274);

      const tachiArray = new Array(0, 588, 1305, 2194, 3296, 4653, 6307, 8300, 10673, 13468,
  16727, 20491, 24802, 29702, 35233, 41436, 48354, 56027, 64498, 73808,
  84000, 95114, 107193, 120278, 134411, 149634, 165989, 183517, 202260, 222260,
  307195, 454335, 660950, 924310, 1241685, 1627025, 2215448, 2868500, 3582332, 4353093,
  5176933, 6050001, 6968447, 7928422, 8926074, 9957554, 11019011, 12106595, 13216455, 14344742,
  15475412, 16609208, 17746869, 18889136, 20036747, 21190444, 22350968, 23519056, 24695450, 25880890,
  27076117, 28281870, 29498890, 30727916, 31969688, 33224948, 34494434, 35778887, 37079047, 38395655,
  39729451, 41081174, 42451564, 43841362, 45251309, 46682143, 48134606, 49609438, 51107378, 52629166,
  54175544, 55747250, 57345025, 58969610, 60621743, 62302166, 64011618, 65750839, 67520571, 69321552,
  71154525, 73020227, 74919399, 76852782, 78821115, 80825138, 82865592, 84943218, 87058756
      );

      const odachiArray = new Array(0, 588, 1305, 2194, 3296, 4653, 6307, 8300, 10673, 13468,
16727, 20491, 24802, 29702, 35233, 41436, 48354, 56027, 64498, 73808,
84000, 95114, 107193, 120278, 134411, 149634, 165989, 183517, 202260, 222260,
307195, 454335, 660950, 924310, 1241685, 2415518, 3041340, 3735900, 4495103, 5314853,
6191055, 7119615, 8096438, 9117428, 10178490, 11275530, 12404453, 13561163, 14741565, 15941565,
17144100, 18349959, 19559930, 20774798, 21995351, 23222376, 24456662, 25698993, 26950158, 28210944,
29482139, 30764529, 32058902, 33366044, 34686743, 36021786, 37371960, 38738052, 40120850, 41521140,
42939711, 44377349, 45834840, 47312973, 48812535, 50334312, 51879093, 53447664, 55040813, 56659325,
58303989, 59975592, 61674921, 63402764, 65159906, 66947135, 68765238, 70615004, 72497219, 74412669,
				    76362144, 78346430, 80366312, 82422579, 84516018, 86647416, 88817561, 91027239, 93277239);

      const yariArray = new Array(0, 588, 1305, 2194, 3296, 4653, 6307, 8300, 10673, 13468,
16727, 20491, 24802, 29702, 35233, 41436, 48354, 56027, 64498, 73808,
84000, 95114, 107193, 120278, 134411, 149634, 165989, 183517, 202260, 222260,
307195, 454335, 660950, 924310, 1241685, 1771379, 2230316, 2739660, 3296408, 3897558,
4540107, 5221051, 5937387, 6686113, 7464226, 8268722, 9096598, 9944852, 10810481, 11690481,
12572340, 13456636, 14343948, 15234851, 16129923, 17029742, 17934885, 18845928, 19763449, 20688025,
21620235, 22560654, 23509861, 24468432, 25436944, 26415976, 27406104, 28407904, 29421956, 30448836,
31489121, 32543389, 33612216, 34696180, 35795859, 36911829, 38044668, 39194953, 40363262, 41550171,
42756258, 43982101, 45228275, 46495360, 47783930, 49094565, 50427841, 51784336, 53164627, 54569290,
				  55998905, 57454048, 58935295, 60443224, 61978413, 63541438, 65132878, 66753308, 68403309);

      const naginataArray = new Array(0, 588, 1305, 2194, 3296, 4653, 6307, 8300, 10673, 13468,
 16727, 20491, 24802, 29702, 35233, 41436, 48354, 56027, 64498, 73808,
 84000, 95114, 107193, 120278, 134411, 149634, 165989, 183517, 202260, 222260,
 307195, 454335, 660950, 924310, 1241685, 1771379, 2230316, 2739660, 3296408, 3897558,
 4540107, 5221051, 5937387, 6686113, 7464226, 8268722, 9096598, 9944852, 10810481, 11690481,
 12572340, 13456636, 14343948, 15234851, 16129923, 17029742, 17934885, 18845928, 19763449, 20688025,
 21620235, 22560654, 23509861, 24468432, 25436944, 26415976, 27406104, 28407904, 29421956, 30448836,
 31489121, 32543389, 33612216, 34696180, 35795859, 36911829, 38044668, 39194953, 40363262, 41550171,
 42756258, 43982101, 45228275, 46495360, 47783930, 49094565, 50427841, 51784336, 53164627, 54569290,
				       55998905, 57454048, 58935295, 60443224, 61978413, 63541438, 65132878, 66753308, 68403309);


    </script>
  </body>
</html>
